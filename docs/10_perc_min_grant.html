<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>14&nbsp; A 10% Per Capita Minimum Grant â€“ A Characterization of the Australian Financial Assistance Grants System</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./no_min_grant.html" rel="next">
<link href="./20_perc_min_grant.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-d479fe214a40f71c0149221e31967b46.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./simulation_methodology.html">Empirical Analysis</a></li><li class="breadcrumb-item"><a href="./10_perc_min_grant.html"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">A 10% Per Capita Minimum Grant</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">A Characterization of the Australian Financial Assistance Grants System</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Jurisdictions and Approaches</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./historical-context.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Historical Context</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./NSW_methodology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">New South Wales Methodology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./VIC_methodology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Victoria Methodology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./QLD_methodology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Queensland Methodology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./SA_methodology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">South Australia Methodology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./WA_methodology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Western Australia Methodology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./TAS_methodology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Tasmania Methodology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./NT_methodology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Northern Territory Methodology</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./aclg_note.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">A note on the Australian Classification of Local Government</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Key Issues and Debates</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discussed-issues.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Discussed Issues</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Empirical Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./simulation_methodology.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Methodology: Grants Simulation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./20_perc_min_grant.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">A 20% Per Capita Minimum Grant</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10_perc_min_grant.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">A 10% Per Capita Minimum Grant</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./no_min_grant.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">A World With No Per Capita Minimum Grant</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#new-south-wales" id="toc-new-south-wales" class="nav-link active" data-scroll-target="#new-south-wales"><span class="header-section-number">14.1</span> New South Wales</a></li>
  <li><a href="#victoria" id="toc-victoria" class="nav-link" data-scroll-target="#victoria"><span class="header-section-number">14.2</span> Victoria</a></li>
  <li><a href="#queensland" id="toc-queensland" class="nav-link" data-scroll-target="#queensland"><span class="header-section-number">14.3</span> Queensland</a></li>
  <li><a href="#south-austrlalia" id="toc-south-austrlalia" class="nav-link" data-scroll-target="#south-austrlalia"><span class="header-section-number">14.4</span> South Austrlalia</a></li>
  <li><a href="#western-australia" id="toc-western-australia" class="nav-link" data-scroll-target="#western-australia"><span class="header-section-number">14.5</span> Western Australia</a></li>
  <li><a href="#tasmania" id="toc-tasmania" class="nav-link" data-scroll-target="#tasmania"><span class="header-section-number">14.6</span> Tasmania</a></li>
  <li><a href="#northern-territory" id="toc-northern-territory" class="nav-link" data-scroll-target="#northern-territory"><span class="header-section-number">14.7</span> Northern Territory</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./simulation_methodology.html">Empirical Analysis</a></li><li class="breadcrumb-item"><a href="./10_perc_min_grant.html"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">A 10% Per Capita Minimum Grant</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">A 10% Per Capita Minimum Grant</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<ul>
<li><p>The model here applies a hypothetical per capita minimum grant constraint, set at 10%, to ensure that each jurisdiction receives at least this proportion of the funds if they were allocated on a per capita basis.</p></li>
<li><p>The per capita minimum for the benchmark scenario is set to 30%, as is the status quo.</p></li>
</ul>
<div id="8207acac" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> fagrants_module <span class="im">import</span> fagrants</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>inst <span class="op">=</span> fagrants.fagrants_model(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    data_path<span class="op">=</span><span class="st">"./Data/FA Grants Tables - Python.xlsx"</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    per_capita_minimum<span class="op">=</span><span class="fl">0.10</span>,  <span class="co"># Set to 10% for this simulation</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    per_capita_minimum_base<span class="op">=</span><span class="fl">0.3</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>sim_grants <span class="op">=</span> inst.run()</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>sim_grants[<span class="st">"Sim_i"</span>] <span class="op">=</span> sim_grants[<span class="st">"UID"</span>].<span class="bu">str</span>.split(<span class="st">"_"</span>).<span class="bu">str</span>[<span class="dv">1</span>].astype(<span class="bu">int</span>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2025</span>, <span class="dv">2029</span>):</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    sim_grants[<span class="ss">f"Grant Delta_</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span>] <span class="op">=</span> (</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        sim_grants[<span class="ss">f"Grant_</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span>] <span class="op">-</span> sim_grants[<span class="ss">f"Grant_base_</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span>]</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># sim_grants_udl = sim_grants[sim_grants["ACLG"] == "UDL"].copy()</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> weighted_group_delta(grouped_df):</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    return_dict <span class="op">=</span> {}</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2025</span>, <span class="dv">2029</span>):</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>        total_weight <span class="op">=</span> grouped_df[<span class="ss">f"ERP_</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span>].<span class="bu">sum</span>()</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        return_dict[<span class="ss">f"Population_</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span>] <span class="op">=</span> total_weight</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>        weighted_mean <span class="op">=</span> (</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>            grouped_df[<span class="ss">f"Grant Delta_</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span>] <span class="op">*</span> grouped_df[<span class="ss">f"ERP_</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span>]</span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>        ).<span class="bu">sum</span>() <span class="op">/</span> total_weight</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>        return_dict[<span class="ss">f"Grant Delta_</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span>] <span class="op">=</span> weighted_mean</span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> pd.Series(return_dict)</span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>sim_grants_grouped <span class="op">=</span> (</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    sim_grants.groupby([<span class="st">"Jurisdiction"</span>, <span class="st">"ACLG"</span>, <span class="st">"Sim_i"</span>])</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    .<span class="bu">apply</span>(weighted_group_delta, include_groups<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>sim_grants_melted <span class="op">=</span> pd.melt(</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>    sim_grants_grouped,</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>    id_vars<span class="op">=</span>[<span class="st">"Jurisdiction"</span>, <span class="st">"ACLG"</span>, <span class="st">"Sim_i"</span>],</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>    value_vars<span class="op">=</span>[<span class="ss">f"Grant Delta_</span><span class="sc">{</span>year<span class="sc">}</span><span class="ss">"</span> <span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2025</span>, <span class="dv">2029</span>)],</span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>    var_name<span class="op">=</span><span class="st">"Year"</span>,</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>    value_name<span class="op">=</span><span class="st">"Expected Change in GPG ($)"</span>,</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>sim_grants_melted[<span class="st">"Year"</span>] <span class="op">=</span> sim_grants_melted[<span class="st">"Year"</span>].<span class="bu">str</span>.split(<span class="st">"_"</span>).<span class="bu">str</span>[<span class="dv">1</span>].astype(<span class="bu">int</span>)</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>sim_grants_melted[<span class="st">"State-ACLG"</span>] <span class="op">=</span> (</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>    sim_grants_melted[<span class="st">"Jurisdiction"</span>] <span class="op">+</span> <span class="st">" - "</span> <span class="op">+</span> sim_grants_melted[<span class="st">"ACLG"</span>]</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Process ForkPoolWorker-11:
Process ForkPoolWorker-7:
Process ForkPoolWorker-24:
Process ForkPoolWorker-1:
Process ForkPoolWorker-21:
Process ForkPoolWorker-12:
Process ForkPoolWorker-19:
Process ForkPoolWorker-14:
Process ForkPoolWorker-15:
Process ForkPoolWorker-10:
Process ForkPoolWorker-8:
Process ForkPoolWorker-16:
Process ForkPoolWorker-20:
Process ForkPoolWorker-2:
Process ForkPoolWorker-4:
Process ForkPoolWorker-22:
Process ForkPoolWorker-6:
Process ForkPoolWorker-3:
Process ForkPoolWorker-5:
Process ForkPoolWorker-17:
Process ForkPoolWorker-9:
Process ForkPoolWorker-13:
Process ForkPoolWorker-18:
Process ForkPoolWorker-23:
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
Traceback (most recent call last):
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
Traceback (most recent call last):
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
Traceback (most recent call last):
Traceback (most recent call last):
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
                    ~~~~^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 400, in correct_delta_vic
    (sub_vic["alloc"] - sub_vic[f"{comparison_column}{year-1}"])
     ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 389, in correct_delta_vic
    (sub_vic["delta"].round(2) &lt; 2) | (sub_vic["delta"].round(2) &gt; 10)
                                       ~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 388, in correct_delta_vic
    while np.any(
          ~~~~~~^
        (sub_vic["delta"].round(2) &lt; 2) | (sub_vic["delta"].round(2) &gt; 10)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ):
    ^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 400, in correct_delta_vic
    (sub_vic["alloc"] - sub_vic[f"{comparison_column}{year-1}"])
     ~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 400, in correct_delta_vic
    (sub_vic["alloc"] - sub_vic[f"{comparison_column}{year-1}"])
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    / sub_vic[f"{comparison_column}{year-1}"]
    ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 397, in correct_delta_vic
    sub_vic[f"Funding Gap_{year}"] * remainder / total_funding_gap
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 389, in correct_delta_vic
    (sub_vic["delta"].round(2) &lt; 2) | (sub_vic["delta"].round(2) &gt; 10)
     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 394, in correct_delta_vic
    sub_vic["alloc"] -= sub_vic["g"] * sub_vic[f"{comparison_column}{year-1}"]
                        ~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 397, in correct_delta_vic
    sub_vic[f"Funding Gap_{year}"] * remainder / total_funding_gap
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 391, in correct_delta_vic
    sub_vic["g"] = sub_vic["delta"].apply(
                   ~~~~~~~~~~~~~~~~~~~~~~^
        lambda x: (x - 2) / 100 if x &lt; 2 else ((x - 10) / 100 if x &gt; 10 else 0)
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 2819, in round
    new_mgr = self._mgr.round(decimals=decimals, using_cow=using_copy_on_write())
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/numpy/_core/fromnumeric.py", line 2580, in any
    return _wrapreduction_any_all(a, np.logical_or, 'any', axis, out,
                                  keepdims=keepdims, where=where)
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 394, in correct_delta_vic
    sub_vic["alloc"] -= sub_vic["g"] * sub_vic[f"{comparison_column}{year-1}"]
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 397, in correct_delta_vic
    sub_vic[f"Funding Gap_{year}"] * remainder / total_funding_gap
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 399, in correct_delta_vic
    sub_vic["delta"] = (
    ~~~~~~~^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 395, in correct_delta_vic
    remainder = total_funding - sub_vic["alloc"].sum()
                                ~~~~~~~~~~~~~~~~~~~~^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 389, in correct_delta_vic
    (sub_vic["delta"].round(2) &lt; 2) | (sub_vic["delta"].round(2) &gt; 10)
                                       ~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 395, in correct_delta_vic
    remainder = total_funding - sub_vic["alloc"].sum()
                                ~~~~~~~~~~~~~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 4935, in apply
    ).apply()
      ~~~~~^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 446, in run_vic
    vic_grants.combine_first(self.correct_delta_vic(non_min_vic, year))
                             ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 396, in correct_delta_vic
    sub_vic["alloc"] += (
        sub_vic[f"Funding Gap_{year}"] * remainder / total_funding_gap
    )
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4316, in __setitem__
    self._set_item(key, value)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 394, in correct_delta_vic
    sub_vic["alloc"] -= sub_vic["g"] * sub_vic[f"{comparison_column}{year-1}"]
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 194, in __sub__
    return self._arith_method(other, operator.sub)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 389, in correct_delta_vic
    (sub_vic["delta"].round(2) &lt; 2) | (sub_vic["delta"].round(2) &gt; 10)
                                       ~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/internals/base.py", line 237, in round
    return self.apply_with_block(
           ~~~~~~~~~~~~~~~~~~~~~^
        "round",
        ^^^^^^^^
        decimals=decimals,
        ^^^^^^^^^^^^^^^^^^
        using_cow=using_cow,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 396, in correct_delta_vic
    sub_vic["alloc"] += (
        sub_vic[f"Funding Gap_{year}"] * remainder / total_funding_gap
    )
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 395, in correct_delta_vic
    remainder = total_funding - sub_vic["alloc"].sum()
                                ~~~~~~~^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/numpy/_core/fromnumeric.py", line 100, in _wrapreduction_any_all
    return reduction(axis=axis, out=out, **passkwargs)
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 389, in correct_delta_vic
    (sub_vic["delta"].round(2) &lt; 2) | (sub_vic["delta"].round(2) &gt; 10)
                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 210, in __truediv__
    return self._arith_method(other, operator.truediv)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 194, in __sub__
    return self._arith_method(other, operator.sub)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 210, in __truediv__
    return self._arith_method(other, operator.truediv)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12743, in __isub__
    return self._inplace_method(other, type(self).__sub__)  # type: ignore[operator]
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 48, in __lt__
    return self._cmp_method(other, operator.lt)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 2819, in round
    new_mgr = self._mgr.round(decimals=decimals, using_cow=using_copy_on_write())
                                                           ~~~~~~~~~~~~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/apply.py", line 1422, in apply
    return self.apply_standard()
           ~~~~~~~~~~~~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6146, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 394, in correct_delta_vic
    sub_vic["alloc"] -= sub_vic["g"] * sub_vic[f"{comparison_column}{year-1}"]
    ~~~~~~~^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 202, in __mul__
    return self._arith_method(other, operator.mul)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12738, in __iadd__
    return self._inplace_method(other, type(self).__add__)  # type: ignore[operator]
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12743, in __isub__
    return self._inplace_method(other, type(self).__sub__)  # type: ignore[operator]
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6539, in sum
    return NDFrame.sum(self, axis, skipna, numeric_only, min_count, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4543, in _set_item
    self._set_item_mgr(key, value, refs)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 202, in __mul__
    return self._arith_method(other, operator.mul)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6539, in sum
    return NDFrame.sum(self, axis, skipna, numeric_only, min_count, **kwargs)
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/internals/managers.py", line 366, in apply
    out = type(self).from_blocks(result_blocks, self.axes)
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 389, in correct_delta_vic
    (sub_vic["delta"].round(2) &lt; 2) | (sub_vic["delta"].round(2) &gt; 10)
                                       ~~~~~~~^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4083, in __getitem__
    return self._get_item_cache(key)
           ~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12738, in __iadd__
    return self._inplace_method(other, type(self).__add__)  # type: ignore[operator]
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6482, in any
    return self._reduce(
           ~~~~~~~~~~~~^
        nanops.nanany,
        ^^^^^^^^^^^^^^
    ...&lt;4 lines&gt;...
        filter_type="bool",
        ^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12720, in _inplace_method
    self._mgr.setitem_inplace(  # type: ignore[union-attr]
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        slice(None), result._values, warn=warn
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6146, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6132, in _cmp_method
    return self._construct_result(res_values, name=res_name)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 2820, in round
    return self._constructor_from_mgr(new_mgr, axes=new_mgr.axes).__finalize__(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6146, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 202, in __mul__
    return self._arith_method(other, operator.mul)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6146, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/apply.py", line 1502, in apply_standard
    mapped = obj._map_values(
        mapper=curried, na_action=action, convert=self.convert_dtype
    )
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/__init__.py", line 34, in using_copy_on_write
    def using_copy_on_write() -&gt; bool:
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 1390, in _arith_method
    with np.errstate(all="ignore"):
         ~~~~~~~~~~~^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12708, in _inplace_method
    result = op(self, other)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/internals/managers.py", line 1850, in from_blocks
    @classmethod
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12708, in _inplace_method
    result = op(self, other)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12525, in sum
    return self._min_count_stat_function(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "sum", nanops.nansum, axis, skipna, numeric_only, min_count, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4495, in _set_item_mgr
    self._iset_item_mgr(loc, value, refs=refs)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12525, in sum
    return self._min_count_stat_function(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        "sum", nanops.nansum, axis, skipna, numeric_only, min_count, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6146, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12708, in _inplace_method
    result = op(self, other)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6146, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4316, in __setitem__
    self._set_item(key, value)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4644, in _get_item_cache
    res = self._ixs(loc, axis=1)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6146, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6243, in _construct_result
    out = out.__finalize__(self)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/internals/managers.py", line 2044, in setitem_inplace
    super().setitem_inplace(indexer, value)
    ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 666, in _constructor_from_mgr
    ser._name = None  # caller is responsible for setting real name
    ^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 1391, in _arith_method
    result = ops.arithmetic_op(lvalues, rvalues, op)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4083, in __getitem__
    return self._get_item_cache(key)
           ~~~~~~~~~~~~~~~~~~~~^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6429, in _reduce
    def _reduce(
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 925, in _map_values
    return algorithms.map_array(arr, mapper, na_action=na_action, convert=convert)
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 56, in __gt__
    return self._cmp_method(other, operator.gt)
           ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 1393, in _arith_method
    return self._construct_result(result, name=res_name)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 1393, in _arith_method
    return self._construct_result(result, name=res_name)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4484, in _iset_item_mgr
    self._clear_item_cache()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12508, in _min_count_stat_function
    return self._reduce(
           ~~~~~~~~~~~~^
        func,
        ^^^^^
    ...&lt;4 lines&gt;...
        min_count=min_count,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 12508, in _min_count_stat_function
    return self._reduce(
           ~~~~~~~~~~~~^
        func,
        ^^^^^
    ...&lt;4 lines&gt;...
        min_count=min_count,
        ^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 1393, in _arith_method
    return self._construct_result(result, name=res_name)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/numpy/_core/_ufunc_config.py", line 451, in __enter__
    extobj = _make_extobj(
            all=self._all, divide=self._divide, over=self._over,
            under=self._under, invalid=self._invalid)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4543, in _set_item
    self._set_item_mgr(key, value, refs)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/common.py", line 76, in new_method
    return method(self, other)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4016, in _ixs
    result = self._box_col_values(col_mgr, i)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4633, in _get_item_cache
    if using_copy_on_write() or warn_copy_on_write():
                                ~~~~~~~~~~~~~~~~~~^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 1391, in _arith_method
    result = ops.arithmetic_op(lvalues, rvalues, op)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 6339, in __setattr__
    object.__setattr__(self, name, value)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/internals/base.py", line 357, in setitem_inplace
    value = np_can_hold_element(arr.dtype, value)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6132, in _cmp_method
    return self._construct_result(res_values, name=res_name)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4628, in _clear_item_cache
    def _clear_item_cache(self) -&gt; None:
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6242, in _construct_result
    out = self._constructor(result, index=self.index, dtype=dtype, copy=False)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 1391, in _arith_method
    result = ops.arithmetic_op(lvalues, rvalues, op)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 6285, in __finalize__
    object.__setattr__(self, name, getattr(other, name, None))
                                   ~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6242, in _construct_result
    out = self._constructor(result, index=self.index, dtype=dtype, copy=False)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6468, in _reduce
    return op(delegate, skipna=skipna, **kwds)
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6242, in _construct_result
    out = self._constructor(result, index=self.index, dtype=dtype, copy=False)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/array_ops.py", line 279, in arithmetic_op
    _bool_arith_check(op, left, right)  # type: ignore[arg-type]
    ~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/array_ops.py", line 267, in arithmetic_op
    should_extension_dispatch(left, right)
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/algorithms.py", line 1743, in map_array
    return lib.map_infer(values, mapper, convert=convert)
           ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/__init__.py", line 42, in warn_copy_on_write
    def warn_copy_on_write() -&gt; bool:
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4495, in _set_item_mgr
    self._iset_item_mgr(loc, value, refs=refs)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 186, in __add__
    return self._arith_method(other, operator.add)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6468, in _reduce
    return op(delegate, skipna=skipna, **kwds)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 186, in __add__
    return self._arith_method(other, operator.add)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/arraylike.py", line 194, in __sub__
    return self._arith_method(other, operator.sub)
           ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 584, in __init__
    data = sanitize_array(data, index, dtype, copy)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4623, in _box_col_values
    return obj.__finalize__(self)
           ~~~~~~~~~~~~~~~~^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/dtypes/cast.py", line 1877, in np_can_hold_element
    if lib.is_integer(element) or lib.is_float(element):
       ~~~~~~~~~~~~~~^^^^^^^^^
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 586, in __init__
    manager = _get_option("mode.data_manager", silent=True)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6242, in _construct_result
    out = self._constructor(result, index=self.index, dtype=dtype, copy=False)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/array_ops.py", line 283, in arithmetic_op
    res_values = _na_arithmetic_op(left, right, op)  # type: ignore[arg-type]
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 584, in __init__
    data = sanitize_array(data, index, dtype, copy)
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/dispatch.py", line 30, in should_extension_dispatch
    return isinstance(left, ABCExtensionArray) or isinstance(right, ABCExtensionArray)
                                                  ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/array_ops.py", line 594, in _bool_arith_check
    def _bool_arith_check(op, a: np.ndarray, b):
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/nanops.py", line 85, in _f
    return f(*args, **kwargs)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6146, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6146, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/frame.py", line 4475, in _iset_item_mgr
    def _iset_item_mgr(
    
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/nanops.py", line 85, in _f
    return f(*args, **kwargs)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/construction.py", line 517, in sanitize_array
    def sanitize_array(
    
  File "pandas/_libs/lib.pyx", line 2999, in pandas._libs.lib.map_infer
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6146, in _arith_method
    return base.IndexOpsMixin._arith_method(self, other, op)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 6281, in __finalize__
    self.flags.allows_duplicate_labels = other.flags.allows_duplicate_labels
                                         ^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 593, in __init__
    self.name = name
    ^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/config.py", line 146, in _get_option
    key = _get_single_key(pat, silent)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 1393, in _arith_method
    return self._construct_result(result, name=res_name)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/construction.py", line 517, in sanitize_array
    def sanitize_array(
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/ops/array_ops.py", line 218, in _na_arithmetic_op
    result = func(left, right)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/dtypes/generic.py", line 42, in _instancecheck
    @classmethod  # type: ignore[misc]
    
KeyboardInterrupt
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/nanops.py", line 404, in new_func
    result = func(values, axis=axis, skipna=skipna, mask=mask, **kwargs)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 1393, in _arith_method
    return self._construct_result(result, name=res_name)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/base.py", line 1393, in _arith_method
    return self._construct_result(result, name=res_name)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/nanops.py", line 404, in new_func
    result = func(values, axis=axis, skipna=skipna, mask=mask, **kwargs)
  File "/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py", line 392, in &lt;lambda&gt;
    lambda x: (x - 2) / 100 if x &lt; 2 else ((x - 10) / 100 if x &gt; 10 else 0)
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 6339, in __setattr__
    object.__setattr__(self, name, value)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/config.py", line 140, in _get_single_key
    key = _translate_key(key)
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/computation/expressions.py", line 242, in evaluate
    return _evaluate(op, op_str, a, b)  # type: ignore[misc]
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6242, in _construct_result
    out = self._constructor(result, index=self.index, dtype=dtype, copy=False)
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 405, in flags
    @final
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/nanops.py", line 477, in newfunc
    return func(values, axis=axis, **kwargs)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6242, in _construct_result
    out = self._constructor(result, index=self.index, dtype=dtype, copy=False)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/nanops.py", line 455, in newfunc
    @functools.wraps(func)
    
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 6242, in _construct_result
    out = self._constructor(result, index=self.index, dtype=dtype, copy=False)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 784, in name
    @name.setter
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/config.py", line 676, in _translate_key
    def _translate_key(key: str) -&gt; str:
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 586, in __init__
    manager = _get_option("mode.data_manager", silent=True)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/computation/expressions.py", line 73, in _evaluate_standard
    return op(a, b)
KeyboardInterrupt
KeyboardInterrupt
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 586, in __init__
    manager = _get_option("mode.data_manager", silent=True)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 593, in __init__
    self.name = name
    ^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/nanops.py", line 646, in nansum
    the_sum = values.sum(axis, dtype=dtype_sum)
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/config.py", line 146, in _get_option
    key = _get_single_key(pat, silent)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/numpy/_core/_methods.py", line 51, in _sum
    return umr_sum(a, axis, dtype, out, keepdims, initial, where)
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/config.py", line 146, in _get_option
    key = _get_single_key(pat, silent)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/generic.py", line 6339, in __setattr__
    object.__setattr__(self, name, value)
    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/config.py", line 140, in _get_single_key
    key = _translate_key(key)
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/core/series.py", line 784, in name
    @name.setter
    
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/config.py", line 140, in _get_single_key
    key = _translate_key(key)
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/config.py", line 676, in _translate_key
    def _translate_key(key: str) -&gt; str:
    
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/config.py", line 681, in _translate_key
    d = _get_deprecated_option(key)
KeyboardInterrupt
  File "/home/spulick/miniforge3/envs/fagrants/lib/python3.13/site-packages/pandas/_config/config.py", line 649, in _get_deprecated_option
    def _get_deprecated_option(key: str):
    
KeyboardInterrupt</code></pre>
</div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">KeyboardInterrupt</span>                         Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[1]</span><span class="ansi-green-fg">, line 11</span>
<span class="ansi-green-fg">      4</span> <span style="font-weight:bold;color:rgb(0,135,0)">import</span><span style="color:rgb(188,188,188)"> </span><span class="ansi-blue-fg ansi-bold">matplotlib</span><span class="ansi-blue-fg ansi-bold">.</span><span class="ansi-blue-fg ansi-bold">pyplot</span><span style="color:rgb(188,188,188)"> </span><span style="font-weight:bold;color:rgb(0,135,0)">as</span><span style="color:rgb(188,188,188)"> </span><span class="ansi-blue-fg ansi-bold">plt</span>
<span class="ansi-green-fg">      6</span> inst = fagrants.fagrants_model(
<span class="ansi-green-fg">      7</span>     data_path=<span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">./Data/FA Grants Tables - Python.xlsx</span><span class="ansi-yellow-fg">"</span>,
<span class="ansi-green-fg">      8</span>     per_capita_minimum=<span class="ansi-green-fg">0.10</span>,  <span style="font-style:italic;color:rgb(95,135,135)"># Set to 10% for this simulation</span>
<span class="ansi-green-fg">      9</span>     per_capita_minimum_base=<span class="ansi-green-fg">0.3</span>,
<span class="ansi-green-fg">     10</span> )
<span class="ansi-green-fg">---&gt; </span><span class="ansi-green-fg">11</span> sim_grants = <span class="ansi-yellow-bg">inst</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg">     12</span> sim_grants[<span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">Sim_i</span><span class="ansi-yellow-fg">"</span>] = sim_grants[<span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">UID</span><span class="ansi-yellow-fg">"</span>].str.split(<span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">_</span><span class="ansi-yellow-fg">"</span>).str[<span class="ansi-green-fg">1</span>].astype(<span style="color:rgb(0,135,0)">int</span>)
<span class="ansi-green-fg">     13</span> <span style="font-weight:bold;color:rgb(0,135,0)">for</span> year <span style="font-weight:bold;color:rgb(175,0,255)">in</span> <span style="color:rgb(0,135,0)">range</span>(<span class="ansi-green-fg">2025</span>, <span class="ansi-green-fg">2029</span>):

<span class="ansi-cyan-fg">File </span><span class="ansi-green-fg">/mnt/d/GitHub/fa_grants/fagrants_module/fagrants.py:264</span>, in <span class="ansi-cyan-fg">fagrants_model.run</span><span class="ansi-blue-fg">(self, out_path)</span>
<span class="ansi-green-fg">    258</span> pool = Pool(initializer=<span style="color:rgb(0,135,0)">self</span>.init_pool_procs)
<span class="ansi-green-fg">    260</span> nsw_grants_master = pd.concat(
<span class="ansi-green-fg">    261</span>     pool.map_async(<span style="color:rgb(0,135,0)">self</span>.run_nsw, <span style="color:rgb(0,135,0)">range</span>(<span class="ansi-green-fg">1000</span>)).get(), axis=<span class="ansi-green-fg">0</span>, ignore_index=<span style="font-weight:bold;color:rgb(0,135,0)">True</span>
<span class="ansi-green-fg">    262</span> )
<span class="ansi-green-fg">    263</span> vic_grants_master = pd.concat(
<span class="ansi-green-fg">--&gt; </span><span class="ansi-green-fg">264</span>     <span class="ansi-yellow-bg">pool</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">map_async</span><span class="ansi-yellow-bg">(</span><span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">run_vic</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span style="color:rgb(0,135,0)" class="ansi-yellow-bg">range</span><span class="ansi-yellow-bg">(</span><span class="ansi-green-fg ansi-yellow-bg">1000</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">get</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>, axis=<span class="ansi-green-fg">0</span>, ignore_index=<span style="font-weight:bold;color:rgb(0,135,0)">True</span>
<span class="ansi-green-fg">    265</span> )
<span class="ansi-green-fg">    266</span> qld_grants_master = pd.concat(
<span class="ansi-green-fg">    267</span>     pool.map_async(<span style="color:rgb(0,135,0)">self</span>.run_qld, <span style="color:rgb(0,135,0)">range</span>(<span class="ansi-green-fg">1000</span>)).get(), axis=<span class="ansi-green-fg">0</span>, ignore_index=<span style="font-weight:bold;color:rgb(0,135,0)">True</span>
<span class="ansi-green-fg">    268</span> )
<span class="ansi-green-fg">    269</span> sa_grants_master = pd.concat(
<span class="ansi-green-fg">    270</span>     pool.map_async(<span style="color:rgb(0,135,0)">self</span>.run_sa, <span style="color:rgb(0,135,0)">range</span>(<span class="ansi-green-fg">1000</span>)).get(), axis=<span class="ansi-green-fg">0</span>, ignore_index=<span style="font-weight:bold;color:rgb(0,135,0)">True</span>
<span class="ansi-green-fg">    271</span> )

<span class="ansi-cyan-fg">File </span><span class="ansi-green-fg">~/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py:768</span>, in <span class="ansi-cyan-fg">ApplyResult.get</span><span class="ansi-blue-fg">(self, timeout)</span>
<span class="ansi-green-fg">    767</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span><span style="color:rgb(188,188,188)"> </span><span class="ansi-blue-fg">get</span>(<span style="color:rgb(0,135,0)">self</span>, timeout=<span style="font-weight:bold;color:rgb(0,135,0)">None</span>):
<span class="ansi-green-fg">--&gt; </span><span class="ansi-green-fg">768</span>     <span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">wait</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">timeout</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg">    769</span>     <span style="font-weight:bold;color:rgb(0,135,0)">if</span> <span style="font-weight:bold;color:rgb(175,0,255)">not</span> <span style="color:rgb(0,135,0)">self</span>.ready():
<span class="ansi-green-fg">    770</span>         <span style="font-weight:bold;color:rgb(0,135,0)">raise</span> <span style="font-weight:bold;color:rgb(215,95,95)">TimeoutError</span>

<span class="ansi-cyan-fg">File </span><span class="ansi-green-fg">~/miniforge3/envs/fagrants/lib/python3.13/multiprocessing/pool.py:765</span>, in <span class="ansi-cyan-fg">ApplyResult.wait</span><span class="ansi-blue-fg">(self, timeout)</span>
<span class="ansi-green-fg">    764</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span><span style="color:rgb(188,188,188)"> </span><span class="ansi-blue-fg">wait</span>(<span style="color:rgb(0,135,0)">self</span>, timeout=<span style="font-weight:bold;color:rgb(0,135,0)">None</span>):
<span class="ansi-green-fg">--&gt; </span><span class="ansi-green-fg">765</span>     <span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">_event</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">wait</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">timeout</span><span class="ansi-yellow-bg">)</span>

<span class="ansi-cyan-fg">File </span><span class="ansi-green-fg">~/miniforge3/envs/fagrants/lib/python3.13/threading.py:659</span>, in <span class="ansi-cyan-fg">Event.wait</span><span class="ansi-blue-fg">(self, timeout)</span>
<span class="ansi-green-fg">    657</span> signaled = <span style="color:rgb(0,135,0)">self</span>._flag
<span class="ansi-green-fg">    658</span> <span style="font-weight:bold;color:rgb(0,135,0)">if</span> <span style="font-weight:bold;color:rgb(175,0,255)">not</span> signaled:
<span class="ansi-green-fg">--&gt; </span><span class="ansi-green-fg">659</span>     signaled = <span style="color:rgb(0,135,0)" class="ansi-yellow-bg">self</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">_cond</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">wait</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">timeout</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg">    660</span> <span style="font-weight:bold;color:rgb(0,135,0)">return</span> signaled

<span class="ansi-cyan-fg">File </span><span class="ansi-green-fg">~/miniforge3/envs/fagrants/lib/python3.13/threading.py:359</span>, in <span class="ansi-cyan-fg">Condition.wait</span><span class="ansi-blue-fg">(self, timeout)</span>
<span class="ansi-green-fg">    357</span> <span style="font-weight:bold;color:rgb(0,135,0)">try</span>:    <span style="font-style:italic;color:rgb(95,135,135)"># restore state no matter what (e.g., KeyboardInterrupt)</span>
<span class="ansi-green-fg">    358</span>     <span style="font-weight:bold;color:rgb(0,135,0)">if</span> timeout <span style="font-weight:bold;color:rgb(175,0,255)">is</span> <span style="font-weight:bold;color:rgb(0,135,0)">None</span>:
<span class="ansi-green-fg">--&gt; </span><span class="ansi-green-fg">359</span>         <span class="ansi-yellow-bg">waiter</span><span class="ansi-yellow-bg">.</span><span class="ansi-yellow-bg">acquire</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-fg">    360</span>         gotit = <span style="font-weight:bold;color:rgb(0,135,0)">True</span>
<span class="ansi-green-fg">    361</span>     <span style="font-weight:bold;color:rgb(0,135,0)">else</span>:

<span class="ansi-red-fg">KeyboardInterrupt</span>: </pre>
</div>
</div>
</div>
<div id="59201634" class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> grants_plot(sub_df):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    g <span class="op">=</span> sns.FacetGrid(</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        sub_df,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>        col<span class="op">=</span><span class="st">"State-ACLG"</span>,</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>        <span class="co">#x="Year",</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        <span class="co">#y="Expected Change in GPG ($)",</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>        <span class="co"># kind="line",</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>        col_wrap<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        <span class="co"># legend="auto",</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>        sharex<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        sharey<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>        aspect<span class="op">=</span>(<span class="dv">1</span> <span class="op">+</span> <span class="dv">5</span><span class="op">**</span><span class="fl">0.5</span>) <span class="op">/</span> <span class="dv">2</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        despine<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        height<span class="op">=</span><span class="dv">4</span>,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># g.map_dataframe(sns.lineplot,</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     x="Year",</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     y="Expected Change in GPG ($)",</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     hue="ACLG",</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     units="Sim_i",</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     dashes=False,</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     legend=False,</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     alpha=0.1,</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     color="0.3",</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="co">#     estimator=None,</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="co"># )</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    g.map_dataframe(</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>         sns.lineplot,</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>         x<span class="op">=</span><span class="st">"Year"</span>,</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>         y<span class="op">=</span><span class="st">"Expected Change in GPG ($)"</span>,</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>         errorbar<span class="op">=</span><span class="st">"ci"</span>,</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>         marker<span class="op">=</span><span class="st">"o"</span>,</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>         dashes<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>         legend<span class="op">=</span><span class="va">False</span>,</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>         zorder<span class="op">=</span><span class="dv">5</span>,</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>         err_style<span class="op">=</span><span class="st">"band"</span>,</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>         color<span class="op">=</span><span class="st">"#062E4A"</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>     )</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> ax <span class="kw">in</span> g.axes.flat:</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>        state_aclg <span class="op">=</span> ax.get_title()</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>        ax.text(<span class="fl">0.9</span>, <span class="dv">1</span>, state_aclg.split(<span class="st">" - "</span>)[<span class="op">-</span><span class="dv">1</span>], transform<span class="op">=</span>ax.transAxes, fontweight<span class="op">=</span><span class="st">"bold"</span>)</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>        ax.set_title(<span class="st">""</span>)</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>        ax.set_xticks([<span class="dv">2025</span>, <span class="dv">2026</span>, <span class="dv">2027</span>, <span class="dv">2028</span>])</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>        ax.set_xticklabels([<span class="st">"2025-26"</span>, <span class="st">"2026-27"</span>, <span class="st">"2027-28"</span>, <span class="st">"2028-29"</span>])</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> g</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<section id="new-south-wales" class="level2" data-number="14.1">
<h2 data-number="14.1" class="anchored" data-anchor-id="new-south-wales"><span class="header-section-number">14.1</span> New South Wales</h2>
<div id="2989d397" class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>grants_plot(sim_grants_melted[sim_grants_melted[<span class="st">"Jurisdiction"</span>] <span class="op">==</span> <span class="st">"New South Wales"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="victoria" class="level2" data-number="14.2">
<h2 data-number="14.2" class="anchored" data-anchor-id="victoria"><span class="header-section-number">14.2</span> Victoria</h2>
<div id="c9344ffd" class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>grants_plot(sim_grants_melted[sim_grants_melted[<span class="st">"Jurisdiction"</span>] <span class="op">==</span> <span class="st">"Victoria"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_perc_min_grant_files/figure-html/cell-5-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="queensland" class="level2" data-number="14.3">
<h2 data-number="14.3" class="anchored" data-anchor-id="queensland"><span class="header-section-number">14.3</span> Queensland</h2>
<div id="35276908" class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>grants_plot(sim_grants_melted[sim_grants_melted[<span class="st">"Jurisdiction"</span>] <span class="op">==</span> <span class="st">"Queensland"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_perc_min_grant_files/figure-html/cell-6-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="south-austrlalia" class="level2" data-number="14.4">
<h2 data-number="14.4" class="anchored" data-anchor-id="south-austrlalia"><span class="header-section-number">14.4</span> South Austrlalia</h2>
<div id="045c80d4" class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>grants_plot(sim_grants_melted[sim_grants_melted[<span class="st">"Jurisdiction"</span>] <span class="op">==</span> <span class="st">"South Australia"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_perc_min_grant_files/figure-html/cell-7-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="western-australia" class="level2" data-number="14.5">
<h2 data-number="14.5" class="anchored" data-anchor-id="western-australia"><span class="header-section-number">14.5</span> Western Australia</h2>
<div id="cf894894" class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>grants_plot(sim_grants_melted[sim_grants_melted[<span class="st">"Jurisdiction"</span>] <span class="op">==</span> <span class="st">"Western Australia"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_perc_min_grant_files/figure-html/cell-8-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="tasmania" class="level2" data-number="14.6">
<h2 data-number="14.6" class="anchored" data-anchor-id="tasmania"><span class="header-section-number">14.6</span> Tasmania</h2>
<div id="b6b46b25" class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>grants_plot(sim_grants_melted[sim_grants_melted[<span class="st">"Jurisdiction"</span>] <span class="op">==</span> <span class="st">"Tasmania"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_perc_min_grant_files/figure-html/cell-9-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="northern-territory" class="level2" data-number="14.7">
<h2 data-number="14.7" class="anchored" data-anchor-id="northern-territory"><span class="header-section-number">14.7</span> Northern Territory</h2>
<div id="76cc075b" class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>grants_plot(sim_grants_melted[sim_grants_melted[<span class="st">"Jurisdiction"</span>] <span class="op">==</span> <span class="st">"Northern Territory"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="10_perc_min_grant_files/figure-html/cell-10-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "î§‹";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./20_perc_min_grant.html" class="pagination-link" aria-label="A 20% Per Capita Minimum Grant">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">A 20% Per Capita Minimum Grant</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./no_min_grant.html" class="pagination-link" aria-label="A World With No Per Capita Minimum Grant">
        <span class="nav-page-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">A World With No Per Capita Minimum Grant</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>